"use strict";(self["webpackChunkeden"]=self["webpackChunkeden"]||[]).push([[291],{4291:function(t,e,a){a.r(e),a.d(e,{default:function(){return Xt}});var s=a(6252);const n={class:"position-relative"};function l(t,e,a,l,o,i){const r=(0,s.up)("FrontNavbar"),c=(0,s.up)("RouterView"),d=(0,s.up)("FrontFooter");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(r),(0,s.Wm)(c),(0,s.Wm)(d)])}const o={class:"navbar navbar-expand-lg navbar-light bg-light position-sticky top-0",style:{"z-index":"1000"}},i={class:"container position-relative justify-content-center"},r=(0,s.Uk)("Eden Handmade"),c=(0,s._)("button",{class:"navbar-toggler position-absolute top-0 end-0 me-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),d={class:"collapse navbar-collapse",id:"navbarNav"},p={class:"navbar-nav text-center"},u={class:"nav-item"},g=(0,s.Uk)(" 商品列表 "),v=(0,s._)("span",{class:"position-absolute top-0 bottom-0 start-0 end-0","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},null,-1),h=(0,s.Uk)("商品列表"),b={class:"nav-item"},m=(0,s.Uk)(" 關於伊登 "),k=(0,s._)("span",{class:"position-absolute top-0 bottom-0 start-0 end-0","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},null,-1),_=(0,s.Uk)("關於伊登"),f={class:"nav-item"},w=(0,s.Uk)(" 購物須知 "),y=(0,s._)("span",{class:"position-absolute top-0 bottom-0 start-0 end-0","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},null,-1),x=(0,s.Uk)("購物須知"),C={class:"nav-item"},D=(0,s.Uk)(" 最新消息 "),W=(0,s._)("span",{class:"position-absolute top-0 bottom-0 start-0 end-0","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},null,-1),F=(0,s.Uk)("最新消息"),$=(0,s._)("hr",{class:"d-lg-none"},null,-1),z={class:"d-flex d-lg-none justify-content-center"},U={class:"d-none d-lg-flex"};function I(t,e,a,n,l,I){const q=(0,s.up)("router-link"),N=(0,s.up)("FrontMember"),S=(0,s.up)("FrontFavorite"),M=(0,s.up)("FrontCart");return(0,s.wg)(),(0,s.iD)("nav",o,[(0,s._)("div",i,[(0,s.Wm)(q,{to:"/",class:"navbar-brand dancing fw-bold text-secondary fs-3"},{default:(0,s.w5)((()=>[r])),_:1}),c,(0,s._)("div",d,[(0,s._)("ul",p,[(0,s._)("li",u,[(0,s.Wm)(q,{to:"/products",class:"d-lg-none nav-link position-relative navBtn"},{default:(0,s.w5)((()=>[g,v])),_:1}),(0,s.Wm)(q,{to:"/products",class:"d-none d-lg-block nav-link navBtn"},{default:(0,s.w5)((()=>[h])),_:1})]),(0,s._)("li",b,[(0,s.Wm)(q,{to:"/about",class:"d-lg-none nav-link position-relative navBtn"},{default:(0,s.w5)((()=>[m,k])),_:1}),(0,s.Wm)(q,{to:"/about",class:"d-none d-lg-block nav-link navBtn"},{default:(0,s.w5)((()=>[_])),_:1})]),(0,s._)("li",f,[(0,s.Wm)(q,{to:"/info",class:"d-lg-none nav-link position-relative navBtn"},{default:(0,s.w5)((()=>[w,y])),_:1}),(0,s.Wm)(q,{to:"/info",class:"d-none d-lg-block nav-link navBtn"},{default:(0,s.w5)((()=>[x])),_:1})]),(0,s._)("li",C,[(0,s.Wm)(q,{to:"/news",class:"d-lg-none nav-link position-relative navBtn"},{default:(0,s.w5)((()=>[D,W])),_:1}),(0,s.Wm)(q,{to:"/news",class:"d-none d-lg-block nav-link navBtn"},{default:(0,s.w5)((()=>[F])),_:1})])]),$,(0,s._)("div",z,[(0,s.Wm)(N),(0,s.Wm)(S),(0,s.Wm)(M)])]),(0,s._)("div",U,[(0,s.Wm)(N),(0,s.Wm)(S),(0,s.Wm)(M)])])])}var q=a(3577);const N={"data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},S={class:"bi bi-heart position-relative",style:{"font-size":"24px"}},M={key:0,class:"bg-dark rounded-pill position-absolute top-0 start-100 translate-middle text-white text-center",style:{width:"20px",height:"20px","font-size":"10px","line-height":"20px","font-style":"normal"}},L=(0,s._)("div",{class:"d-lg-none"},[(0,s._)("small",null," 收藏清單 ")],-1);function B(t,e,a,n,l,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(i,{to:"/favorites",class:"nav-link text-center",style:{cursor:"pointer"}},{default:(0,s.w5)((()=>[(0,s._)("div",N,[(0,s._)("i",S,[l.favorite.length?((0,s.wg)(),(0,s.iD)("div",M,(0,q.zw)(l.favorite.length),1)):(0,s.kq)("",!0)]),L])])),_:1})}var j=a(4902),E={name:"FrontFavorite",data(){return{favorite:JSON.parse(localStorage.getItem("favorite"))||[]}},methods:{getFavorite(){this.favorite=JSON.parse(localStorage.getItem("favorite"))||[]}},mounted(){j.Z.on("get-favorite",(()=>{this.getFavorite()}))}},Z=a(3744);const A=(0,Z.Z)(E,[["render",B]]);var O=A,H=a(9963);const T={class:"d-flex align-items-center nav-item dropdown"},V=(0,s._)("a",{class:"nav-link text-center",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,s._)("i",{class:"bi bi-person translate-middle",style:{"font-size":"1.5rem"}}),(0,s._)("div",{class:"d-lg-none"},[(0,s._)("small",null," 個人帳戶 ")])],-1),Y={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},J={key:0},K=(0,s.Uk)("後台"),P=(0,s.Uk)(" 我的訂單 "),R=(0,s._)("span",{class:"position-absolute top-0 bottom-0 start-0 end-0","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},null,-1),G={key:1},Q=(0,s.Uk)("登入"),X={key:2};function tt(t,e,a,n,l,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",T,[V,(0,s._)("ul",Y,[l.loggedIn&&l.checkSuccess?((0,s.wg)(),(0,s.iD)("li",J,[(0,s.Wm)(i,{to:"/admin",class:"dropdown-item"},{default:(0,s.w5)((()=>[K])),_:1})])):(0,s.kq)("",!0),(0,s._)("li",null,[l.loggedIn?((0,s.wg)(),(0,s.j4)(i,{key:0,to:"/orders",class:"dropdown-item position-relative"},{default:(0,s.w5)((()=>[P,R])),_:1})):(0,s.kq)("",!0)]),l.loggedIn?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("li",G,[(0,s.Wm)(i,{to:"/Login",class:"dropdown-item"},{default:(0,s.w5)((()=>[Q])),_:1})])),l.loggedIn?((0,s.wg)(),(0,s.iD)("li",X,[(0,s._)("a",{href:"#",class:"dropdown-item",onClick:e[0]||(e[0]=(0,H.iM)(((...t)=>o.logOut&&o.logOut(...t)),["prevent"]))},"登出")])):(0,s.kq)("",!0)])])}var et={data(){return{loggedIn:!1,checkSuccess:!1}},inject:["emitter"],methods:{checkAdmin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");t&&(this.$http.defaults.headers.common.Authorization=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check").then((()=>{this.loggedIn=!0})).catch((t=>{this.$httpMessageState(t.response,"錯誤訊息")})),this.$http.get("https://vue3-course-api.hexschool.io/v2/api/ycl/admin/products").then((()=>{this.checkSuccess=!0})).catch((()=>{this.checkSuccess=!1})))},logOut(){document.cookie="hexToken=;expires=;",this.emitter.emit("push-message",{style:"success",title:"已登出"}),this.loggedIn=!1,this.checkSuccess=!1}},mounted(){this.checkAdmin()}};const at=(0,Z.Z)(et,[["render",tt]]);var st=at;const nt={"data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},lt={class:"bi bi-cart position-relative",style:{"font-size":"24px"}},ot={key:0,class:"bg-dark rounded-pill position-absolute top-0 start-100 translate-middle text-white text-center",style:{width:"20px",height:"20px","font-size":"10px","line-height":"20px","font-style":"normal"}},it=(0,s._)("div",null,[(0,s._)("small",null," 購物車 ")],-1),rt={class:"d-none d-lg-block nav-link","data-bs-toggle":"collapse","data-bs-target":"#collapseExample",style:{cursor:"pointer"}},ct={class:"bi bi-cart position-relative",style:{"font-size":"1.5rem"}},dt={key:0,class:"bg-dark rounded-pill position-absolute top-0 start-100 translate-middle text-white text-center",style:{width:"20px",height:"20px","font-size":"8px","font-style":"normal","line-hight":"20px"}},pt={key:0,class:"collapse position-absolute top-100 end-0 bg-white shadow-sm p-3",id:"collapseExample"},ut=(0,s._)("div",{class:"d-flex justify-content-between"},[(0,s._)("h5",null,"購物車"),(0,s._)("button",{type:"button",class:"btn btn-close","data-bs-toggle":"collapse","data-bs-target":"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample"})],-1),gt={key:0,class:"my-5 text-center"},vt=(0,s._)("p",null,"購物車裡沒有東西！快去逛逛吧！！",-1),ht=(0,s._)("span",{"data-bs-toggle":"collapse","data-bs-target":"#collapseExample"},"去逛逛",-1),bt={key:1},mt={class:"overflow-auto",style:{"max-height":"50vh"}},kt={class:"table"},_t={class:"fw-bold"},ft=(0,s.Uk)(" 價格： "),wt={key:0,class:"text-danger"},yt={key:1},xt={class:"me-2"},Ct={class:"text-danger"},Dt={class:"d-flex"},Wt=(0,s._)("span",null,"數量：",-1),Ft={class:"input-group input-group-sm mb-3",style:{width:"100px"}},$t=["disabled","onClick"],zt=["onUpdate:modelValue","onChange"],Ut=["disabled","onClick"],It=["onClick","disabled"],qt=(0,s._)("hr",null,null,-1),Nt={class:"d-flex align-items-center justify-content-between m-2"},St={class:"text-end"},Mt=(0,s.Uk)(" 總金額："),Lt={class:"text-danger fw-bold"},Bt=(0,s.Uk)("元 "),jt=(0,s._)("button",{type:"button",class:"btn btn-danger","data-bs-toggle":"collapse","data-bs-target":"#collapseExample"},[(0,s.Uk)("去結帳 "),(0,s._)("i",{class:"bi bi-arrow-right"})],-1);function Et(t,e,a,n,l,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i,{to:"/cart",class:"d-lg-none nav-link position-relative text-center",style:{cursor:"pointer"}},{default:(0,s.w5)((()=>[(0,s._)("div",nt,[(0,s._)("i",lt,[l.cartData.carts.length?((0,s.wg)(),(0,s.iD)("div",ot,(0,q.zw)(l.cartData.carts.length),1)):(0,s.kq)("",!0)]),it])])),_:1}),(0,s._)("a",rt,[(0,s._)("i",ct,[l.cartData.carts.length?((0,s.wg)(),(0,s.iD)("div",dt,(0,q.zw)(l.cartData.carts.length),1)):(0,s.kq)("",!0)])]),t.$route.meta.hideFrontCart?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",pt,[ut,0==l.cartData.carts.length?((0,s.wg)(),(0,s.iD)("div",gt,[vt,(0,s.Wm)(i,{to:"/products",class:"btn standardBtn"},{default:(0,s.w5)((()=>[ht])),_:1})])):((0,s.wg)(),(0,s.iD)("div",bt,[(0,s._)("div",mt,[(0,s._)("table",kt,[(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cartData.carts,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,height:"100"},[(0,s._)("td",null,[(0,s.Wm)(i,{to:`/product/${t.product.id}`},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"img-cover",style:(0,q.j5)([{width:"100px",height:"100px"},`background-image: url('${t.product.imageUrl}')`])},null,4)])),_:2},1032,["to"])]),(0,s._)("td",null,[(0,s._)("div",_t,(0,q.zw)(t.product.title),1),(0,s._)("div",null,[(0,s._)("small",null,(0,q.zw)(t.product.description),1)]),(0,s._)("div",null,[ft,t.product.price===t.product.origin_price?((0,s.wg)(),(0,s.iD)("span",wt,(0,q.zw)(t.product.price)+" 元 ",1)):((0,s.wg)(),(0,s.iD)("span",yt,[(0,s._)("small",xt,[(0,s._)("del",null,(0,q.zw)(t.product.origin_price)+" 元",1)]),(0,s._)("span",Ct,(0,q.zw)(t.product.price)+" 元",1)]))]),(0,s._)("div",Dt,[Wt,(0,s._)("div",Ft,[(0,s._)("button",{class:"btn btn-secondary text-white",type:"button",disabled:l.isLoading,onClick:e=>o.updateCartItem(t,-1)},"-",8,$t),(0,s.wy)((0,s._)("input",{type:"number",onkeypress:"return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57",class:"form-control text-center","onUpdate:modelValue":e=>t.qty=e,onChange:e=>o.updateCartItem(t,0)},null,40,zt),[[H.nr,t.qty,void 0,{number:!0}]]),(0,s._)("button",{class:"btn btn-secondary text-white",type:"button",disabled:l.isLoading,onClick:e=>o.updateCartItem(t,1)},"+",8,Ut)])])]),(0,s._)("td",null,[(0,s._)("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:e=>o.removeCartItem(t.id),disabled:l.isLoading}," 刪除 ",8,It)])])))),128))])])]),qt,(0,s._)("div",Nt,[(0,s._)("div",St,[Mt,(0,s._)("span",Lt,(0,q.zw)(l.cartData.total),1),Bt]),(0,s.Wm)(i,{to:"/cart",class:"link-secondary px-2"},{default:(0,s.w5)((()=>[jt])),_:1})])]))]))],64)}var Zt={name:"FrontCart",data(){return{cartData:{carts:[]},isLoading:!1}},methods:{getCart(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/ycl/cart").then((t=>{this.cartData=t.data.data})).catch((t=>{this.$httpMessageState(t.response,"錯誤訊息")}))},removeCartItem(t){this.isLoading=!0,this.$http.delete(`https://vue3-course-api.hexschool.io/v2/api/ycl/cart/${t}`).then((t=>{this.$httpMessageState(t,"移除購物車品項"),this.getCart(),this.isLoading=!1})).catch((t=>{this.$httpMessageState(t.response,"移除購物車品項")}))},updateCartItem(t,e){if(t.qty+e===0)return void this.removeCartItem(t.id);if(t.qty+e<1||t.qty%1!==0)return void this.emitter.emit("push-message",{style:"success",title:"錯誤訊息",content:"輸入數量錯誤"});const a={product_id:t.id,qty:t.qty+e};this.isLoading=!0,this.$http.put(`https://vue3-course-api.hexschool.io/v2/api/ycl/cart/${t.id}`,{data:a}).then((t=>{this.$httpMessageState(t,"更新購物車"),this.getCart(),this.isLoading=!1})).catch((t=>{this.$httpMessageState(t.response,"更新購物車")}))}},mounted(){this.getCart(),j.Z.on("get-cart",(()=>{this.getCart()}))}};const At=(0,Z.Z)(Zt,[["render",Et]]);var Ot=At,Ht={name:"FrontNavbar",components:{FrontFavorite:O,FrontMember:st,FrontCart:Ot}};const Tt=(0,Z.Z)(Ht,[["render",I]]);var Vt=Tt;const Yt=(0,s.uE)('<div class="p-4 p-md-5 bg-light"><div class="container"><div class="row text-secondary"><div class="col-lg-9"><h4 class="text-primary">聯絡我們</h4><p>若關於購物問題或建議想法，歡迎使用客服專線，我們有專人為您服務。</p><p> 客服時間： <span class="text-primary"> 週一至週五 AM9:30~12:00；PM1:30~6:00 (例假日恕無提供電話服務) </span></p><p> 客服專線： <a href="tel:+886222345678">02-2234-5678</a></p><p> 電子信箱： <a href="mailto:service@edenhandmade.com">service@edenhandmade.com</a></p></div><div class="col-lg-3 mt-4 mt-lg-0"><h4 class="text-primary">追蹤我們</h4><ul class="list-unstyled d-flex"><li class="me-3"><a href="#"><i class="bi bi-facebook fs-1"></i></a></li><li class="me-3"><a href="#"><i class="bi bi-instagram fs-1"></i></a></li><li><a href="#"><i class="bi bi-line fs-1"></i></a></li></ul></div></div></div></div><div class="py-3 pb-4 py-4 bg-dark text-white text-center"> Copyright © 2022 Yi-Chien Lu. All rights reserved. <br><span style="font-size:0.5rem;">僅做為學習使用，非做商業用途</span></div>',2);function Jt(t,e,a,s,n,l){return Yt}var Kt={name:"FrontFooter"};const Pt=(0,Z.Z)(Kt,[["render",Jt]]);var Rt=Pt,Gt={components:{FrontNavbar:Vt,FrontFooter:Rt}};const Qt=(0,Z.Z)(Gt,[["render",l]]);var Xt=Qt}}]);
//# sourceMappingURL=291.6040c7ae.js.map
{"version":3,"file":"js/495.6debec16.js","mappings":"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","sources":["webpack://eden/./src/views/CartView.vue","webpack://eden/./src/views/CartView.vue?73a2"],"sourcesContent":["<template>\r\n  <Loading-component :active=\"isLoading\"></Loading-component>\r\n  <div class=\"container py-5\">\r\n    <div class=\"mb-5 row justify-content-center\">\r\n      <div class=\"col col-md-10 col-lg-8\">\r\n        <ul class=\"row justify-content-center list-unstyled\">\r\n          <li class=\"col text-center position-relative\">\r\n            <div class=\"text-primary fw-bold\">購物車</div>\r\n            <div class=\"step-bar bg-secondary\"></div>\r\n            <div class=\"step-circle bg-primary\">\r\n              <span>1</span>\r\n            </div>\r\n          </li>\r\n          <li class=\"col text-center position-relative\">\r\n            <div class=\"text-secondary\">建立訂單</div>\r\n            <div class=\"step-bar bg-secondary\"></div>\r\n            <div class=\"step-circle bg-secondary mx-auto\">\r\n              <span>2</span>\r\n            </div>\r\n          </li>\r\n          <li class=\"col text-center position-relative\">\r\n            <div class=\"text-secondary\">付款</div>\r\n            <div class=\"step-bar bg-secondary\"></div>\r\n            <div class=\"step-circle bg-secondary mx-auto\">\r\n              <span>3</span>\r\n            </div>\r\n          </li>\r\n          <li class=\"col text-center\">\r\n            <div class=\"text-secondary\">付款完成</div>\r\n            <div class=\"step-circle bg-secondary mx-auto\">\r\n              <span>4</span>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"cartData.carts.length == 0\" class=\"my-5 text-center\">\r\n      <h5>購物車裡沒有東西！快去逛逛吧！！</h5>\r\n      <router-link to=\"/products\" class=\"btn standardBtn\">\r\n        去逛逛\r\n      </router-link>\r\n    </div>\r\n    <div v-else class=\"my-5\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-8 \">\r\n          <div class=\"d-md-none\">\r\n            <div v-for=\"item in cartData.carts\" :key=\"item.id\" class=\"d-flex py-2 mb-4 border-bottom position-relative\">\r\n              <a href=\"#\" class=\"position-absolute end-0\" @click.prevent=\"removeCartItem(item.id)\" :disabled=\"isLoading\">\r\n                <i class=\"bi bi-x fs-2\"></i>\r\n              </a>\r\n              <router-link :to=\"`/product/${item.product.id}`\">\r\n                <div class=\"img-cover me-3\" style=\"width:100px; height: 120px;\" :style=\"`background-image: url('${item.product.imageUrl}')`\"></div>\r\n              </router-link>\r\n              <div>\r\n                <div class=\"fw-bold\">\r\n                  <router-link :to=\"`/product/${item.product.id}`\">{{ item.product.title }}</router-link>\r\n                </div>\r\n                <small>{{ item.product.description }}</small>\r\n                <div class=\"input-group input-group-sm my-2\" style=\"width: 80px\">\r\n                  <button class=\"btn btn-secondary text-white\" type=\"button\" :disabled=\"isLoading\" @click=\"updateCartItem(item, -1)\">\r\n                    -\r\n                  </button>\r\n                  <input\r\n                    type=\"number\"\r\n                    onkeypress=\"return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57\"\r\n                    class=\"form-control text-center\"\r\n                    v-model.number=\"item.qty\"\r\n                    @change=\"updateCartItem(item, 0)\"\r\n                  />\r\n                  <button class=\"btn btn-secondary text-white\" type=\"button\" :disabled=\"isLoading\"  @click=\"updateCartItem(item, 1)\">\r\n                    +\r\n                  </button>\r\n                </div>\r\n                <div>\r\n                  <div v-if=\"item.product.price === item.product.origin_price\" class=\"text-danger\">\r\n                    {{ item.product.price * item.qty }} 元\r\n                  </div>\r\n                  <div v-else>\r\n                    <small>\r\n                      <del>{{ item.product.origin_price * item.qty }} 元</del>\r\n                    </small>\r\n                    <span class=\"text-danger ms-2\">{{ item.product.price * item.qty }} 元</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <table class=\"d-none d-md-table table table-responsive-md align-middle\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>品名</th>\r\n                <th class=\"text-center\">單價</th>\r\n                <th style=\"width: 100px\">數量</th>\r\n                <th class=\"text-end\">合計</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"item in cartData.carts\" :key=\"item.id\">\r\n                <td>\r\n                  <button type=\"button\" class=\"btn btn-sm\" @click=\"removeCartItem(item.id)\" :disabled=\"isLoading\">\r\n                    <i class=\"bi bi-trash3-fill text-danger fs-5\"></i>\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <router-link\r\n                    :to=\"`/product/${item.product.id}`\"\r\n                    class=\"link-dark d-md-flex align-items-center\"\r\n                  >\r\n                  <div class=\"img-cover me-3\" style=\"width:100px; height: 100px;\" :style=\"`background-image: url('${item.product.imageUrl}')`\"></div>\r\n                    <div>\r\n                      <p class=\"fw-bold\">{{ item.product.title }}</p>\r\n                      <small>{{ item.product.description }}</small>\r\n                    </div>\r\n                  </router-link>\r\n                </td>\r\n                <td class=\"text-center\">\r\n                  <div v-if=\"item.product.price === item.product.origin_price\" class=\"text-danger\">\r\n                    {{ item.product.price }} 元\r\n                  </div>\r\n                  <div v-else>\r\n                    <small>\r\n                      <del>{{ item.product.origin_price }} 元</del>\r\n                    </small>\r\n                    <div class=\"text-danger\">{{ item.product.price }} 元</div>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div class=\"input-group input-group-sm mb-2\">\r\n                    <button\r\n                      class=\"btn btn-secondary text-white\"\r\n                      type=\"button\"\r\n                      :disabled=\"isLoading\"\r\n                      @click=\"updateCartItem(item, -1)\"\r\n                    >\r\n                      -\r\n                    </button>\r\n                    <input\r\n                      type=\"number\"\r\n                      onkeypress=\"return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57\"\r\n                      class=\"form-control text-center\"\r\n                      v-model.number=\"item.qty\"\r\n                      @change=\"updateCartItem(item, 0)\"\r\n                    />\r\n                    <button\r\n                      class=\"btn btn-secondary text-white\"\r\n                      type=\"button\"\r\n                      :disabled=\"isLoading\"\r\n                      @click=\"updateCartItem(item, 1)\"\r\n                    >\r\n                      +\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n                <td class=\"text-end text-danger\">\r\n                  {{ item.total }} 元\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div>\r\n            <button class=\"btn btn-outline-danger\" type=\"button\" data-bs-toggle=\"modal\" data-bs-target=\"#clearCartModal\" :disabled=\"cartData.carts.length === 0\">\r\n              清空購物車\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 mt-4 mt-lg-0\">\r\n          <div class=\"text-end shadow p-3 p-lg-5\">\r\n            <p class=\"d-flex justify-content-between\">\r\n              <span>總計：</span>\r\n              <span>{{ $filters.currency(cartData.total) }} 元</span>\r\n            </p>\r\n            <p v-if=\"cartData.carts[0].coupon\" class=\"text-danger d-flex justify-content-between\">\r\n              <span>優惠券折扣：</span>\r\n              <span>- {{ cartData.total - Math.floor(cartData.final_total) }} 元</span>\r\n            </p>\r\n            <p v-if=\"cartData.carts[0].coupon\" class=\"text-end\">\r\n              <small class=\"text-danger\">\r\n                (已套用「{{ cartData.carts[0].coupon.title }}」優惠券：{{ cartData.carts[0].coupon.code }})\r\n                </small>\r\n            </p>\r\n            <p class=\"d-flex justify-content-between\">\r\n              <span>折扣價：</span>\r\n              <span class=\"fw-bold\">{{ $filters.currency(Math.floor(cartData.final_total)) }} 元</span>\r\n            </p>\r\n            <div class=\"input-group my-3 input-group-sm\">\r\n              <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              v-model=\"couponCode\"\r\n              placeholder=\"請輸入優惠碼\"\r\n              ref=\"couponCode\"/>\r\n              <div class=\"input-group-append\">\r\n                <button class=\"btn standardBtn text-white\" type=\"button\" @click=\"addCouponCode\">\r\n                  套用\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <router-link to=\"/order\">\r\n              <button class=\"btn standardBtn w-100\" type=\"button\" :disabled=\"cartData.carts.length === 0\">\r\n                填寫訂單\r\n              </button>\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Modal -->\r\n  <div class=\"modal fade\" id=\"clearCartModal\" tabindex=\"-1\" aria-labelledby=\"clearCartModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">確定清空購物車?</h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          清空後將無法回復喔！\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\">取消</button>\r\n          <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\" @click=\"clearCart\">忍痛清空</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@/libs/emitter'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      cartData: {\r\n        carts: []\r\n      },\r\n      products: [],\r\n      product: {},\r\n      couponCode: '',\r\n      isLoading: false,\r\n      form: {\r\n        user: {\r\n          email: '',\r\n          name: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getCart () {\r\n      this.isLoading = true\r\n      this.$http\r\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\r\n        .then((response) => {\r\n          this.cartData = response.data.data\r\n          emitter.emit('get-cart')\r\n          this.isLoading = false\r\n        })\r\n        .catch((error) => {\r\n          this.$httpMessageState(error.response, '錯誤訊息')\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    removeCartItem (id) {\r\n      this.isLoading = true\r\n      this.$http\r\n        .delete(\r\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n        )\r\n        .then((response) => {\r\n          this.$httpMessageState(response, '移除購物車品項')\r\n          this.getCart()\r\n          this.isLoading = false\r\n        })\r\n        .catch((error) => {\r\n          this.$httpMessageState(error.response, '移除購物車品項')\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    updateCartItem (item, num) {\r\n      if (item.qty + num === 0) {\r\n        this.removeCartItem(item.id)\r\n        return\r\n      }\r\n      if (item.qty + num < 1 || item.qty % 1 !== 0) {\r\n        this.emitter.emit('push-message', {\r\n          style: 'success',\r\n          title: '錯誤訊息',\r\n          content: '輸入數量錯誤'\r\n        })\r\n        return\r\n      }\r\n      const data = {\r\n        product_id: item.id,\r\n        qty: item.qty + num\r\n      }\r\n      this.isLoading = true\r\n      this.$http\r\n        .put(\r\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${item.id}`,\r\n          { data }\r\n        )\r\n        .then((response) => {\r\n          this.$httpMessageState(response, '更新購物車')\r\n          this.getCart()\r\n          this.isLoading = false\r\n        })\r\n        .catch((error) => {\r\n          this.$httpMessageState(error.response, '更新購物車')\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    clearCart () {\r\n      this.isLoading = true\r\n      this.$http\r\n        .delete(\r\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`\r\n        )\r\n        .then((response) => {\r\n          this.$httpMessageState(response, '清空購物車')\r\n          this.getCart()\r\n          this.isLoading = false\r\n        })\r\n        .catch((error) => {\r\n          this.$httpMessageState(error.response, '清空購物車')\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    addCouponCode () {\r\n      this.isLoading = true\r\n      const data = {\r\n        code: this.couponCode\r\n      }\r\n      this.$http\r\n        .post(\r\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`,\r\n          { data }\r\n        )\r\n        .then((response) => {\r\n          this.$httpMessageState(response, '套用優惠券')\r\n          this.couponCode = ''\r\n          this.getCart()\r\n          this.isLoading = false\r\n        })\r\n        .catch((error) => {\r\n          this.$httpMessageState(error.response, '套用優惠券')\r\n          this.couponCode = ''\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    createOrder () {\r\n      this.isLoading = true\r\n      const order = {\r\n        data: this.form\r\n      }\r\n      this.$http\r\n        .post(\r\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`,\r\n          order\r\n        )\r\n        .then((response) => {\r\n          this.$httpMessageState(response, '送出訂單')\r\n          this.$refs.form.resetForm()\r\n          this.form.message = ''\r\n          this.$router.push(`/checkout/${response.data.orderId}`)\r\n          this.isLoading = false\r\n        })\r\n        .catch((error) => {\r\n          this.$httpMessageState(error.response, '送出訂單')\r\n          this.isLoading = false\r\n        })\r\n    },\r\n\r\n    isPhone (value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '電話格式錯誤'\r\n    }\r\n  },\r\n  mounted () {\r\n    document.title = 'Eden Handmade | 購物袋'\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./CartView.vue?vue&type=template&id=5294b1a8\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Vue-Live-Final\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_11","style","_hoisted_24","id","tabindex","type","_createVNode","_component_Loading_component","active","$data","_hoisted_2","carts","length","_createElementBlock","_hoisted_4","_component_router_link","to","_Fragment","_renderList","item","key","href","onClick","$options","disabled","product","imageUrl","title","_toDisplayString","description","_hoisted_15","onkeypress","qty","$event","onChange","_hoisted_17","price","origin_price","_hoisted_19","_hoisted_22","_hoisted_29","_hoisted_32","_hoisted_34","total","_hoisted_36","_hoisted_40","_ctx","currency","coupon","_hoisted_42","Math","floor","final_total","code","_hoisted_46","placeholder","ref","_hoisted_50","_hoisted_54","_hoisted_55","_hoisted_57","data","cartData","products","couponCode","isLoading","form","user","email","name","tel","address","message","methods","getCart","this","$http","get","then","response","emitter","catch","error","$httpMessageState","removeCartItem","delete","updateCartItem","num","emit","content","product_id","put","clearCart","addCouponCode","post","createOrder","order","$refs","resetForm","$router","push","orderId","isPhone","value","phoneNumber","test","mounted","document","__exports__","render"],"sourceRoot":""}
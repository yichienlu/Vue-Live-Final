{"version":3,"file":"js/507.061af011.js","mappings":"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","sources":["webpack://eden/./src/views/OrderView.vue","webpack://eden/./src/views/OrderView.vue?77c4"],"sourcesContent":["<template>\r\n  <Loading-component :active=\"isLoading\"></Loading-component>\r\n  <div class=\"container py-5\">\r\n    <div class=\"mb-5 row justify-content-center\">\r\n      <div class=\"col col-md-10 col-lg-8\">\r\n        <ul class=\"d-flex justify-content-center list-unstyled\">\r\n          <li class=\"col text-center position-relative\">\r\n            <div class=\"text-primary\">購物車</div>\r\n            <div class=\"step-bar bg-primary\"></div>\r\n            <div class=\"step-circle bg-primary\">\r\n              <span>1</span>\r\n            </div>\r\n          </li>\r\n          <li class=\"col text-center position-relative\">\r\n            <div class=\"text-primary fw-bold\">建立訂單</div>\r\n            <div class=\"step-bar bg-secondary\"></div>\r\n            <div class=\"step-circle bg-primary mx-auto\">\r\n              <span>2</span>\r\n            </div>\r\n          </li>\r\n          <li class=\"col text-center position-relative\">\r\n            <div class=\"text-secondary\">付款</div>\r\n            <div class=\"step-bar bg-secondary\"></div>\r\n            <div class=\"step-circle bg-secondary mx-auto\">\r\n              <span>3</span>\r\n            </div>\r\n          </li>\r\n          <li class=\"col text-center\">\r\n            <div class=\"text-secondary\">付款完成</div>\r\n            <div class=\"step-circle bg-secondary mx-auto\">\r\n              <span>4</span>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"row row-cols-1 row-cols-lg-2\">\r\n      <div class=\"col-lg-6 p-2 p-md-3\">\r\n        <div class=\"d-sm-none\">\r\n          <div v-for=\"item in cartData.carts\" :key=\"item.id\" class=\"d-flex py-2 border-top\">\r\n            <router-link :to=\"`/product/${item.product.id}`\">\r\n              <div class=\"img-cover me-3\" style=\"width:80px; height: 80px;\" :style=\"`background-image: url('${item.product.imageUrl}')`\"></div>\r\n            </router-link>\r\n            <div>\r\n              <div class=\"fw-bold\">\r\n                <router-link :to=\"`/product/${item.product.id}`\">{{ item.product.title }}</router-link>\r\n              </div>\r\n              <small>{{ item.product.description }}</small>\r\n              <div>\r\n                <span v-if=\"item.product.price === item.product.origin_price\" class=\"text-danger\">\r\n                  {{ item.product.price * item.qty }} 元\r\n                </span>\r\n                <span v-else>\r\n                  <small>\r\n                    <del>{{ item.product.origin_price * item.qty }} 元</del>\r\n                  </small>\r\n                  <span class=\"text-danger ms-2\">{{ item.product.price * item.qty }} 元</span>\r\n                </span> x {{item.qty}} {{ item.product.unit }}\r\n              </div>\r\n            </div>\r\n            <div class=\"ms-auto\">\r\n              {{ item.total }} 元\r\n            </div>\r\n          </div>\r\n          <div class=\"text-end border-top border-2 border-primary pt-2\">總計：{{ cartData.total }} 元</div>\r\n          <div class=\"text-danger text-end pt-2\">折扣價：{{ Math.floor(cartData.final_total) }} 元</div>\r\n          <div class=\"text-end\">\r\n            <small v-if=\"cartData.carts[0]?.coupon\" class=\"text-danger\">(已套用「{{ cartData.carts[0].coupon.title }}」優惠券：{{ cartData.carts[0].coupon.code }})</small>\r\n          </div>\r\n        </div>\r\n        <table class=\"d-none d-sm-table table align-middle\">\r\n          <thead>\r\n            <tr>\r\n              <th style=\"width: 100px\">品名</th>\r\n              <th></th>\r\n              <th class=\"text-end\">數量</th>\r\n              <th class=\"text-end\">合計</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in cartData.carts\" :key=\"item.id\">\r\n              <td>\r\n                <router-link  :to=\"`/product/${item.product.id}`\" class=\"link-dark d-flex align-items-center\">\r\n                  <div class=\"img-cover\" style=\"width:100px; height: 100px;\" :style=\"`background-image: url('${item.product.imageUrl}')`\"></div>\r\n                </router-link>\r\n              </td>\r\n              <td>\r\n                <div>\r\n                    <div class=\"fw-bold\">{{ item.product.title }}</div>\r\n                    <small>{{ item.product.description }}</small>\r\n                    <div v-if=\"item.product.price===item.product.origin_price\">\r\n                      {{ item.product.price }} 元\r\n                    </div>\r\n                    <div v-else>\r\n                      <small><del>{{ item.product.origin_price }} 元</del></small>\r\n                      <span class=\"ms-2\">{{ item.product.price }} 元</span>\r\n                    </div>\r\n                  </div>\r\n              </td>\r\n              <td class=\"text-end\">\r\n                {{ item.qty }} {{ item.product.unit }}\r\n              </td>\r\n              <td class=\"text-end\">\r\n                {{ item.total }} 元\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <td class=\"text-end\">總計</td>\r\n              <td colspan=\"3\" class=\"text-end\">{{ cartData.total }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td class=\"text-end text-success\">折扣價</td>\r\n              <td colspan=\"3\" class=\"text-end text-success\">\r\n                {{ Math.floor(cartData.final_total) }} <br>\r\n                <small v-if=\"cartData.carts[0]?.coupon\" class=\"text-mute\">(已套用「{{ cartData.carts[0].coupon.title }}」優惠券：{{ cartData.carts[0].coupon.code }})</small>\r\n              </td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n        <router-link to=\"/cart\">\r\n          <button type=\"button\" class=\"btn btn-outline-primary mt-5\">\r\n            <i class=\"bi bi-arrow-left\"></i>\r\n            回購物車\r\n          </button>\r\n        </router-link>\r\n      </div>\r\n      <div class=\"col-lg-6 p-3\">\r\n        <div class=\"p-4 shadow\">\r\n            <form-component ref=\"form\" v-slot=\"{ errors }\" @submit=\"createOrder\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"email\" class=\"form-label\">Email<span class=\"text-danger\">*</span></label>\r\n                <field-component id=\"email\" name=\"email\" type=\"email\" class=\"form-control\" rules=\"email|required\"\r\n                      :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\"\r\n                      v-model=\"form.user.email\"></field-component>\r\n                <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-6 mb-3\">\r\n                  <label for=\"name\" class=\"form-label\">收件人姓名<span class=\"text-danger\">*</span></label>\r\n                  <field-component id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\r\n                          :class=\"{ 'is-invalid': errors['姓名'] }\" placeholder=\"請輸入姓名\" rules=\"required\"\r\n                          v-model=\"form.user.name\"></field-component>\r\n                  <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n                <div class=\"col-lg-6 mb-3\">\r\n                  <label for=\"tel\" class=\"form-label\">收件人電話<span class=\"text-danger\">*</span></label>\r\n                  <field-component id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\r\n                          :class=\"{ 'is-invalid': errors['電話'] }\" placeholder=\"請輸入電話\" :rules=\"isPhone\"\r\n                          v-model=\"form.user.tel\"></field-component>\r\n                  <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n                </div>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"address\" class=\"form-label\">收件人地址<span class=\"text-danger\">*</span></label>\r\n                <field-component id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\r\n                        :class=\"{ 'is-invalid': errors['地址'] }\" placeholder=\"請輸入地址\" rules=\"required\"\r\n                        v-model=\"form.user.address\"></field-component>\r\n                <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"message\" class=\"form-label\">留言</label>\r\n                <textarea id=\"message\" class=\"form-control\" cols=\"30\" rows=\"3\" v-model=\"form.message\"></textarea>\r\n              </div>\r\n              <button type=\"submit\" class=\"btn standardBtn w-100\"\r\n                      :disabled=\"Object.keys(errors).length > 0 || cartData.carts.length === 0\">\r\n                      送出訂單\r\n              </button>\r\n            </form-component>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@/libs/emitter'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      cartData: {\r\n        carts: []\r\n      },\r\n      products: [],\r\n      product: {},\r\n      couponCode: '',\r\n      isLoading: false,\r\n      form: {\r\n        user: {\r\n          email: '',\r\n          name: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getCart () {\r\n      this.isLoading = true\r\n      this.$http\r\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\r\n        .then((response) => {\r\n          this.cartData = response.data.data\r\n          emitter.emit('get-cart')\r\n          this.isLoading = false\r\n        })\r\n        .catch((error) => {\r\n          this.$httpMessageState(error.response, '錯誤訊息')\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    createOrder () {\r\n      this.isLoading = true\r\n      const order = {\r\n        data: this.form\r\n      }\r\n      this.$http\r\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`, order)\r\n        .then((response) => {\r\n          this.$httpMessageState(response, '送出訂單')\r\n          this.cartData = { carts: [] }\r\n          emitter.emit('get-cart')\r\n          this.$refs.form.resetForm()\r\n          this.form.message = ''\r\n          this.$router.push(`/checkout/${response.data.orderId}`)\r\n          this.isLoading = false\r\n        })\r\n        .catch((error) => {\r\n          this.$httpMessageState(error.response, '送出訂單')\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    isPhone (value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '電話格式錯誤'\r\n    }\r\n  },\r\n  mounted () {\r\n    document.title = 'Eden Handmade | 建立訂單'\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderView.vue?vue&type=template&id=525e7a8c\"\nimport script from \"./OrderView.vue?vue&type=script&lang=js\"\nexport * from \"./OrderView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Vue-Live-Final\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","colspan","type","for","_createVNode","_component_Loading_component","active","$data","_hoisted_2","_createElementBlock","_Fragment","_renderList","carts","item","key","id","_component_router_link","to","product","imageUrl","title","_toDisplayString","description","price","origin_price","qty","_hoisted_8","unit","total","Math","floor","final_total","coupon","code","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_23","_hoisted_25","_hoisted_27","_hoisted_29","_component_form_component","ref","onSubmit","$options","errors","_hoisted_33","_component_field_component","name","rules","placeholder","user","email","$event","_component_ErrorMessage","_hoisted_36","_hoisted_38","tel","_hoisted_40","address","_hoisted_42","cols","rows","message","disabled","Object","keys","length","_hoisted_43","data","cartData","products","couponCode","isLoading","form","methods","getCart","this","$http","get","then","response","emitter","catch","error","$httpMessageState","createOrder","order","post","$refs","resetForm","$router","push","orderId","isPhone","value","phoneNumber","test","mounted","document","__exports__","render"],"sourceRoot":""}